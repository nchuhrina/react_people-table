(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{23:function(e,t,a){e.exports=a(35)},28:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),l=a.n(c),o=a(6),s=a(1),m=(a(28),function(){return r.a.createElement("h1",null,"HOME")}),u=a(22),i=a(13),p=a.n(i),h=a(19),E=function(){var e=Object(h.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate-academy.github.io/react_people-table/api",e.next=3,fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json")).then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=a(10),d=a(20),f=a.n(d),N=function(e){var t=e.person,a=Object(s.i)().personSlug,n=Object(s.g)(),c=t.name,l=t.sex,o=t.born,m=t.died,u=t.motherName,i=t.fatherName,p=t.slug;return r.a.createElement("tr",{className:f()("Person",{Person_active:p===a}),key:p,onClick:function(){return e=p,void n.push({pathname:"/people/".concat(e)});var e}},r.a.createElement("td",{className:"m"===l?"man":"woman"},c),r.a.createElement("td",{className:"m"===l?"man":"woman"},"m"===l?"  male":" female"),r.a.createElement("td",null,o),r.a.createElement("td",null,m),r.a.createElement("td",{className:"woman"},u),r.a.createElement("td",{className:"man"},i))},g=["NAME","SEX","BORN","DIED","MOTHER","FATHER"],v=function(e){var t=e.people,a=Object(s.g)(),n=Object(s.h)(),c=new URLSearchParams(n.search),l=c.get("sortBy")||"";return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",{className:"PeopleTable-header"},r.a.createElement("tr",null,g.map((function(e){return"name"===e.toLowerCase()||"born"===e.toLowerCase()||"died"===e.toLowerCase()||"sex"===e.toLowerCase()?r.a.createElement("th",{key:e,onClick:function(){c.set("sortBy",e.toLowerCase()),a.push({search:c.toString()})}},e,l===e.toLowerCase()&&"*"):r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,function(e,t){switch(t){case"name":return Object(b.a)(e).sort((function(e,t){return e.name.localeCompare(t.name)}));case"died":return Object(b.a)(e).sort((function(e,t){return e.died-t.died}));case"born":return Object(b.a)(e).sort((function(e,t){return e.born-t.born}));case"sex":return Object(b.a)(e).sort((function(e,t){return e.sex.localeCompare(t.sex)}));default:return e}}(t,l).map((function(e){return r.a.createElement(N,{person:e})}))))},w=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],l=Object(s.h)(),o=new URLSearchParams(l.search).get("query")||"";Object(n.useEffect)((function(){E().then(c)}),[]);var m=a.filter((function(e){return e.name.toLowerCase().includes(o.toLowerCase())||(null!==e.fatherName?e.fatherName.toLowerCase().includes(o.toLowerCase()):"")||(null!==e.motherName?e.motherName.toLowerCase().includes(o.toLowerCase()):"")}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"People Page"),r.a.createElement("div",{className:"search "}),0===a.length?"Loading....":r.a.createElement(v,{people:m}))},O=function(){return r.a.createElement("div",{className:"NotFoundPage"},r.a.createElement("div",{className:"error"},"404"),r.a.createElement("h1",{className:"notFound"},"Page not found!"))},j=function(){var e=Object(s.g)(),t=Object(s.h)(),a=new URLSearchParams(t.search),n=a.get("query")||"";return r.a.createElement("nav",null,r.a.createElement("ul",{className:"navlist"},r.a.createElement("li",{className:"navlist__item"},r.a.createElement(o.b,{to:"/",exact:!0,className:"navlist__link"},"Home")),r.a.createElement("li",{className:"navlist__item"},r.a.createElement(o.b,{to:{pathname:"/people",search:"?query="},className:"navlist__link"},"People Page")),r.a.createElement("li",{className:"navlist__item search"},r.a.createElement(s.b,{path:"/people"},r.a.createElement("input",{type:"text",className:"search_input",value:n,onChange:function(t){a.set("query",t.target.value),e.push({search:a.toString()})}})))))},C=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(j,null)),r.a.createElement("main",null,r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/",exact:!0,component:m}),r.a.createElement(s.a,{from:"/home",to:"/"}),r.a.createElement(s.b,{path:"/people/:personSlug?",exact:!0,component:w}),r.a.createElement(s.b,{component:O}))))};l.a.render(r.a.createElement(o.a,{basename:"/react_people-table"},r.a.createElement(C,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.79d52293.chunk.js.map