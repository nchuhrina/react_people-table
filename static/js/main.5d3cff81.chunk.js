(this["webpackJsonpreact_people-table"]=this["webpackJsonpreact_people-table"]||[]).push([[0],{28:function(e,t,a){e.exports=a(47)},33:function(e,t,a){},47:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),s=a.n(c),l=a(6),o=a(1),m=(a(33),function(){return r.a.createElement("h1",null,"HOME")}),u=a(12),i=a(14),h=a.n(i),p=a(24),E=function(){var e=Object(p.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate-academy.github.io/react_people-table/api",e.next=3,fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json")).then((function(e){return e.json()}));case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=a(10),f=a(25),b=a.n(f),g=function(e){var t=e.person,a=Object(o.i)().personSlug,n=Object(o.g)(),c=Object(o.h)(),s=t.name,l=t.sex,m=t.born,u=t.died,i=t.motherName,h=t.fatherName,p=t.slug;return r.a.createElement("tr",{className:b()("Person",{Person_active:p===a}),key:p,onClick:function(){return e=p,void n.push({search:c.search,pathname:"/people/".concat(e)});var e}},r.a.createElement("td",{className:"m"===l?"man":"woman"},s),r.a.createElement("td",{className:"m"===l?"man":"woman"},"m"===l?"  male":" female"),r.a.createElement("td",null,m),r.a.createElement("td",null,u),r.a.createElement("td",{className:"woman"},i),r.a.createElement("td",{className:"man"},h))},v=["NAME","SEX","BORN","DIED","MOTHER","FATHER"],N=r.a.memo((function(e){var t=e.people,a=Object(o.g)(),n=Object(o.h)(),c=new URLSearchParams(n.search),s=c.get("sortBy")||"",l="desc"!==c.get("sortOrder");return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",{className:"PeopleTable-header"},r.a.createElement("tr",null,v.map((function(e){return"name"===e.toLowerCase()||"born"===e.toLowerCase()||"died"===e.toLowerCase()||"sex"===e.toLowerCase()?r.a.createElement("th",{key:e,onClick:function(){c.set("sortBy",e.toLowerCase()),a.push({search:c.toString()})}},e,"    ",s===e.toLowerCase()&&(l?r.a.createElement("img",{onClick:function(){c.get("sortBy")===e.toLowerCase()?(c.set("sortOrder",l?"desc":"asc"),a.push({search:c.toString()})):(c.set("sortOrder","asc"),c.set("sortBy",e.toLowerCase()),a.push({search:c.toString()}))},src:"https://image.flaticon.com/icons/svg/25/25330.svg",width:"16",height:"16",alt:"sort",className:"sort-img"}):r.a.createElement("img",{onClick:function(){c.set("sortOrder",l?"desc":"asc"),c.set("sortBy",e.toLowerCase()),a.push({search:c.toString()})},src:"https://image.flaticon.com/icons/svg/25/25224.svg",width:"16",height:"16",alt:"sort",className:"sort-img"}))):r.a.createElement("th",{key:e},e)})))),r.a.createElement("tbody",null,function(e,t,a){switch(t){case"name":case"sex":return a?Object(d.a)(e).sort((function(e,a){return e[t].localeCompare(a[t])})):Object(d.a)(e).sort((function(e,a){return e[t].localeCompare(a[t])})).reverse();case"died":case"born":return a?Object(d.a)(e).sort((function(e,a){return e[t]-a[t]})):Object(d.a)(e).sort((function(e,a){return e[t]-a[t]})).reverse();default:return e}}(t,s,l).map((function(e){return r.a.createElement(g,{person:e})}))))})),O=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],c=t[1],s=Object(o.h)(),l=new URLSearchParams(s.search).get("query")||"";Object(n.useEffect)((function(){E().then(c)}),[]);var m=l.toLowerCase(),i=Object(n.useMemo)((function(){return a.filter((function(e){return e.name.toLowerCase().includes(m)||(null!==e.fatherName?e.fatherName.toLowerCase().includes(m):"")||(null!==e.motherName?e.motherName.toLowerCase().includes(m):"")}))}),[m,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"People Page"),r.a.createElement("div",{className:"search "}),0===a.length?"Loading....":r.a.createElement(N,{people:i}))},w=function(){return r.a.createElement("div",{className:"NotFoundPage"},r.a.createElement("div",{className:"error"},"404"),r.a.createElement("h1",{className:"notFound"},"Page not found!"))},j=a(27),C=a.n(j),y=function(){var e=Object(o.g)(),t=Object(o.h)(),a=new URLSearchParams(t.search),c=a.get("query")||"",s=Object(n.useState)(c),m=Object(u.a)(s,2),i=m[0],h=m[1],p=Object(n.useCallback)(C()((function(t){t?a.set("query",t):a.delete("query"),e.push({search:a.toString()})}),500),[]);return r.a.createElement("nav",null,r.a.createElement("ul",{className:"navlist"},r.a.createElement("li",{className:"navlist__item"},r.a.createElement(l.b,{to:"/",exact:!0,className:"navlist__link"},"Home")),r.a.createElement("li",{className:"navlist__item"},r.a.createElement(l.b,{to:{pathname:"/people"},className:"navlist__link"},"People Page")),r.a.createElement("li",{className:"navlist__item search"},r.a.createElement(o.b,{path:"/people"},r.a.createElement("input",{type:"text",className:"search_input",value:i,onChange:function(e){h(e.target.value),p(e.target.value)}})))))},L=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(y,null)),r.a.createElement("main",null,r.a.createElement(o.d,null,r.a.createElement(o.b,{path:"/",exact:!0,component:m}),r.a.createElement(o.a,{from:"/home",to:"/"}),r.a.createElement(o.b,{path:"/people/:personSlug?",exact:!0,component:O}),r.a.createElement(o.b,{component:w}))))};s.a.render(r.a.createElement(l.a,null,r.a.createElement(L,null)),document.getElementById("root"))}},[[28,1,2]]]);
//# sourceMappingURL=main.5d3cff81.chunk.js.map